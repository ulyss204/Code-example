webpackJsonp([12],{1267:function(e,n,i){"use strict";(function(e){var t=i(1),r=i(60),a=i(471),s=i(1269),o=i(198);i.d(n,"a",function(){return u});var u=function(){function Linking(e,n,i,t,r){this.route=e,this.router=i,this._logProfileService=t,this._linkingService=r,this.links=[],this.config=n.getConfig(),this.domain=this.config.baseApiDomain}return Linking.prototype.logError=function(e){console.error("There was an error: "+e)},Linking.prototype.sendId=function(e){var n=this;this._logProfileService.getProfile(this.domain+"v1/admin/label/getwines?unique_wine="+e,"").subscribe(function(e){n.data=e},function(e){return n.logError(e)},function(){console.log(n.data),n.wines=n.data.potential_linked_wines,n.linked=n.data.unique_wine_reference.linked_wine_references;for(var e=0,i=n.linked;e<i.length;e++){var t=i[e];n.links.push(t.wineid)}})},Linking.prototype.sendResult=function(){var n=this,i=[];e("input:checked").each(function(){var n=e(this).val();console.log(n),i.push(n)}),this.checkedWine=i,this._linkingService.getDetails(this.domain+"v1/admin/label/postwines?unique_wine="+this.data.unique_wine_reference.eid,"",this.checkedWine).subscribe(function(e){return n.logError(e)},function(){console.log("awesome")})},Linking.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(n){e.sendId(n.id),console.log(n)}),this.route.params.forEach(function(n){return e.wineEid=n.id}),this.sendId(this.wineEid)},Linking=__decorate([i.i(t.Component)({selector:"linking",styles:[i(1358)],template:i(1382),encapsulation:t.ViewEncapsulation.None,providers:[a.a,s.a]}),__metadata("design:paramtypes",[r.e,o.a,r.b,a.a,s.a])],Linking)}()}).call(n,i(37))},1268:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=i(76),r=i(197),a=i(1),s=i(60),o=i(1267);i.d(n,"routes",function(){return u}),i.d(n,"LinkingModule",function(){return d});var u=[{path:"",component:o.a,pathMatch:"full"}],d=function(){function LinkingModule(){}return LinkingModule.routes=u,LinkingModule=__decorate([i.i(a.NgModule)({declarations:[o.a],imports:[t.CommonModule,r.FormsModule,s.a.forChild(u)]}),__metadata("design:paramtypes",[])],LinkingModule)}()},1269:function(e,n,i){"use strict";var t=i(1),r=i(31),a=i(78);i.n(a);i.d(n,"a",function(){return s});var s=function(){function LinkingService(e){this.http=e}return LinkingService.prototype.getDetails=function(e,n,i){this.org=JSON.parse(localStorage.getItem("id_token1"));var t=new r.Headers;t.append("X-Auth-Token",this.org.access_token),t.append("Content-Type","application/json"),t.append("Accept","application/json");var a=new r.RequestOptions({headers:t});return this.http.post(e+n,i,a).map(function(e){return e.json()})},LinkingService=__decorate([i.i(t.Injectable)(),__metadata("design:paramtypes",[r.Http])],LinkingService)}()},1358:function(e,n){e.exports=".text-long{width:230px}.text-medium{width:50px}.text-short{width:20px}.table .checkbox-style{padding:10px 20px 10px 7px}.unique td{color:#bd4242;font-weight:bold}td{font-size:12px}.similar{text-decoration:underline;font-weight:bold}\n"},1382:function(e,n){e.exports='<div class="widget-table-overflow">\r\n  <div class="pull-right">\r\n    <input type="text" placeholder="id" id="eid" [(ngModel)] = "inputId">\r\n    <button class="btn btn-success"  [routerLink]="[\'/app/labeling/linkings\', inputId]">Submit</button>\r\n  </div>\r\n  <form (submit)="sendResult()">\r\n  <table class="table table-striped table-lg mt-lg mb-0">\r\n    <thead class="no-bd">\r\n    <tr>\r\n\r\n      <th>Winery</th>\r\n      <th class="text-long">Title</th>\r\n      <th >Type</th>\r\n      <th>Geo</th>\r\n      <th>Varietal</th>\r\n      <th>Designation</th>\r\n      <th >Source</th>\r\n\r\n      <th class="text-medium text-center"></th>\r\n    <!--  <th><input type="text" placeholder="id" class="text-medium"></th>\r\n      <th><input type="submit" value="submit"></th> -->\r\n    </tr>\r\n    </thead>\r\n    <tbody >\r\n      <tr class="unique" *ngIf="data">\r\n        <td>{{data.unique_wine_reference.winery}}</td>\r\n        <td >{{data.unique_wine_reference.title}}</td>\r\n        <td >{{data.unique_wine_reference.type}}</td>\r\n        <td>{{data.unique_wine_reference.country}}<br>\r\n      {{data.unique_wine_reference.region}}<br>\r\n      {{data.unique_wine_reference.subregion}}<br>\r\n      {{data.unique_wine_reference.appellation}}</td>\r\n      <td>{{data.unique_wine_reference.varietal}}</td>\r\n      <td>{{data.unique_wine_reference.designation}}</td>\r\n        <td class="text-xs-center">{{data.unique_wine_reference.source.charAt(0)}}</td>\r\n      </tr>\r\n\r\n      <tr *ngFor="let wine of wines;let i = index"  class="pointer">\r\n\r\n        <td *ngIf="wine.winery == data.unique_wine_reference.winery" class="similar">{{wine.winery}}</td>\r\n        <td *ngIf="wine.winery != data.unique_wine_reference.winery">{{wine.winery}}</td>\r\n        <td *ngIf="wine.title == data.unique_wine_reference.title" class="similar">{{wine.title}}</td>\r\n        <td *ngIf="wine.title != data.unique_wine_reference.title" >{{wine.title}}</td>\r\n        <td *ngIf="wine.type == data.unique_wine_reference.type" class="similar">{{wine.type}}</td>\r\n        <td *ngIf="wine.type != data.unique_wine_reference.type" >{{wine.type}}</td>\r\n        <td><span *ngIf="wine.country == data.unique_wine_reference.country" class="similar">{{wine.country}}</span>\r\n        <span *ngIf="wine.country != data.unique_wine_reference.country" >{{wine.country}}</span>\r\n        <span *ngIf="wine.region == data.unique_wine_reference.region" class="similar">{{wine.region}}</span>\r\n        <span *ngIf="wine.region != data.unique_wine_reference.region" >{{wine.region}}</span>\r\n        <span *ngIf="wine.subregion == data.unique_wine_reference.subregion" class="similar">{{wine.subregion}}</span>\r\n        <span *ngIf="wine.subregion != data.unique_wine_reference.subregion">{{wine.subregion}}</span>\r\n        <span *ngIf="wine.appellation == data.unique_wine_reference.appellation" class="similar">{{wine.appellation}}</span>\r\n        <span *ngIf="wine.appellation != data.unique_wine_reference.appellation">{{wine.appellation}}</span></td>\r\n        <td *ngIf="wine.varietal == data.unique_wine_reference.varietal" class="similar">{{wine.varietal}}</td>\r\n        <td *ngIf="wine.varietal != data.unique_wine_reference.varietal" >{{wine.varietal}}</td>\r\n        <td *ngIf="wine.designation == data.unique_wine_reference.designation" class="similar">{{wine.designation}}</td>\r\n        <td *ngIf="wine.designation != data.unique_wine_reference.designation" >{{wine.designation}}</td>\r\n        <td *ngIf="wine.source == data.unique_wine_reference.source" class="similar">{{wine.source.charAt(0)}}</td>\r\n        <td *ngIf="wine.source != data.unique_wine_reference.source" >{{wine.source.charAt(0)}}</td>\r\n\r\n        <td class="text-xs-center checkbox-style">\r\n          <div class="checkbox abc-checkbox">\r\n            <input id={{i}} type="checkbox" value={{wine.wineid}} *ngIf="links.indexOf(wine.wineid) == -1">\r\n            <input id={{i}} type="checkbox" value={{wine.wineid}} *ngIf="links.indexOf(wine.wineid) != -1" checked>\r\n            <label for={{i}}></label>\r\n          </div>\r\n        </td>\r\n\r\n      </tr>\r\n\r\n    </tbody>\r\n  </table>\r\n\r\n  <input type="submit" value="send" class="pull-right btn-primary btn">\r\n  </form>\r\n\r\n</div>\r\n'}});